Fancybox.bind("[data-fancybox]",{});let animationItems=document.querySelectorAll(".animation-item");if(0<animationItems.length){function onEntry(e){e.forEach(e=>{e.isIntersecting&&e.target.classList.add("animation-active")})}let e={threshold:[.5]},t=new IntersectionObserver(onEntry,e);for(let e of animationItems)t.observe(e)}let scrollWidthFunc=()=>{var e=window.innerWidth-document.body.clientWidth;document.querySelector("html").style.paddingRight=e+"px",document.querySelector("header").style.paddingRight=e+"px"},scrollTop=document.querySelector(".scroll-top"),articleNavigation=(scrollTop&&scrollTop.addEventListener("click",()=>{window.scrollTo({top:0,behavior:"smooth"})}),["load","resize"].forEach(e=>{window.addEventListener(e,function(){let t=header.clientHeight,n=header.querySelector(".header__main"),o=header.querySelector(".header__bottom");var l,c;n&&(l=n.offsetHeight,c=o.offsetHeight),window.onscroll=function(e){window.scrollY>t?n.classList.contains("hide")||1100<window.innerWidth&&(n.classList.add("hide"),n.style.height="0px",n.style.opacity="0",n.style.overflow="hidden",o.classList.add("hide"),o.style.height="0px",o.style.opacity="0",o.style.overflow="hidden"):(n.style.height=l+"px",n.classList.remove("hide"),n.style.opacity="1",o.style.height=c+"px",o.classList.remove("hide"),o.style.opacity="1",o.style.overflow="visible")}})}),document.addEventListener("DOMContentLoaded",function(){let o=document.querySelector(".burger__menu");if(o){let e=document.querySelector(".header__menu"),t=document.querySelector(".header"),n=document.querySelector(".header__plashka");o.addEventListener("click",()=>{o.classList.contains("burger__menu--active")?(n&&(n.style.display="block"),document.body.classList.remove("burger-lock")):(n&&(n.style.display="none"),document.body.classList.add("burger-lock")),e.classList.toggle("header__menu--active"),o.classList.toggle("burger__menu--active"),t.classList.toggle("header--active"),document.querySelector("html").classList.toggle("burger-lock")})}var n=document.querySelector(".header__discount_close");let e=document.querySelector(".plashka.header__discount"),t=document.querySelector("main"),l=(n&&n.addEventListener("click",function(){e.classList.add("hidden"),t.classList.add("shifted")}),document.querySelectorAll(".hide-item>button"));function c(e){document.body.classList.remove("lock"),document.querySelector("html").classList.remove("burger-lock"),document.querySelector("html").removeAttribute("style"),document.querySelector("header").removeAttribute("style"),e.closest(".hide-item").classList.remove("hide-item--active")}function a(){requestAnimationFrame(()=>{document.querySelectorAll(".header__submenu_more-btn")&&document.querySelectorAll(".header__submenu_more-btn").forEach(e=>{e.previousElementSibling.scrollHeight<=140?e.style.display="none":e.style.display="block"})})}l.forEach(t=>{t.addEventListener("click",e=>{document.querySelector("html").addEventListener("click",function(e){e.target.closest(".header__nav_list")||c(t)}),t.closest(".hide-item").classList.contains("hide-item--active")?c(t):(l.forEach(e=>e.closest(".hide-item").classList.remove("hide-item--active")),t.closest(".hide-item").classList.add("hide-item--active"),scrollWidthFunc(),document.body.classList.add("lock"),document.querySelector("html").classList.add("burger-lock"))})}),document.querySelector(".hide-item_service").addEventListener("click",e=>{e&&a()}),document.querySelectorAll(".header__submenu_more-btn").forEach(e=>{e&&e.addEventListener("click",function(e){e.stopPropagation();e=this.previousElementSibling;e&&e.classList.contains("header__submenu_tab-content_item")&&(e.classList.toggle("open"),e.classList.contains("open")?this.textContent="Скрыть":this.textContent="Еще")})});let r=document.querySelectorAll(".header__submenu_tab-btn"),s=document.querySelectorAll(".header__submenu_tab-content");for(let e=0;e<r.length;e++)r[e].style.order=2*e+1;for(let e=0;e<s.length;e++)s[e].style.order=2*e+2;if(0<r.length)for(let e=0;e<r.length;e++)r[e].addEventListener("click",()=>{r[e].classList.contains("active")||(s.forEach(e=>{e.classList.remove("active")}),r.forEach(e=>{e.classList.remove("active")}),r[e].classList.add("active"),s[e].classList.add("active"),a())});0<r.length&&r[0].click();var i=document.querySelectorAll(".tabs");for(let e=0;e<i.length;e++){let t=i[e].querySelectorAll(".tab-btn"),n=i[e].querySelectorAll(".tab-content");for(let e=0;e<t.length;e++)t[e].style.order=2*e+1;for(let e=0;e<n.length;e++)t[e].style.order=2*e+2;if(0<t.length)for(let e=0;e<t.length;e++)t[e].addEventListener("click",()=>{t[e].classList.contains("active")||(n.forEach(e=>{e.classList.remove("active")}),t.forEach(e=>{e.classList.remove("active")}),t[e].classList.add("active"),n[e].classList.add("active")),w()});0<t.length&&t[0].click()}let d=document.querySelector(".stock-date-js");n=document.querySelector(".stock-future-js");if(d&&n){function u(e){var e=e-(new Date).getTime(),t=Math.floor(e/864e5),n=Math.floor(e%864e5/36e5),o=Math.floor(e%36e5/6e4),e=Math.floor(e%6e4/1e3);d.innerHTML=t+"д: "+n+"ч: "+o+" мин: "+e+" сек "}var m=new Date,h=(m.setDate(m.getDate()+5),["January","February","March","April","May","June","July","August","September","October","November","December"]),y=["января","февраля","марта","апреля","мая","июня","июля","августа","сентября","октября","ноября","декабря"],v=m.getMonth(),h=h[v];n.innerHTML=m.getDate()+" "+y[v];let e=new Date(h+" "+m.getDate()+", "+m.getFullYear()+" 00:00:00").getTime();u(e);setInterval(function(){u(e)},1e3)}function p(e){e.classList.remove("open"),setTimeout(()=>{e.classList.contains("open")||e.classList.remove("active")},400),document.body.classList.remove("lock"),document.querySelector("html").style.paddingRight=0,document.querySelector("html").classList.remove("lock"),document.querySelector("header").removeAttribute("style")}n=document.querySelectorAll(".popup-btn");let g=document.querySelectorAll(".popup"),N=document.querySelector(".original-title").innerHTML;document.querySelectorAll(".close-popup-btn").forEach(function(e){e.addEventListener("click",function(e){p(e.target.closest(".popup"))})}),n.forEach(function(l){l.addEventListener("click",function(e){e.preventDefault();var t,n=e.currentTarget.dataset.path;let o=document.querySelector(`[data-target="${n}"]`);o&&(g.forEach(function(e){p(e),e.addEventListener("click",function(e){e.target.closest(".popup__content")||p(e.target.closest(".popup"))})}),o.classList.add("active"),setTimeout(()=>{o.classList.add("open")},10),"popup-change"==o.getAttribute("data-target")&&(n=o.querySelector(".original-title"),l.classList.contains("change-item__btn")?l.classList.contains("doctor__btn-js")?(t=l.closest(".change-item").querySelector(".change-item__title"),n.innerHTML="Записаться на приём к врачу: "+t.innerHTML):l.classList.contains("change-item__btn_current")?n.textContent=l.textContent:(t=l.closest(".change-item").querySelector(".change-item__title"),n.innerHTML=t.innerHTML):n.innerHTML=N),"popup-jobs"==o.getAttribute("data-target")&&(t=l.closest(".jobs__items"),n=o.querySelector(".jobs__inner_original"))&&t.querySelector(".jobs__inner")&&(n.innerHTML=t.querySelector(".jobs__inner").innerHTML),e.stopPropagation(),scrollWidthFunc(),document.querySelector("html").classList.add("lock"))})});y=document.getElementById("map-placeholder");function f(){var e;document.querySelector('[src="https://api-maps.yandex.ru/2.1/?lang=ru_RU"]')?_():((e=document.createElement("script")).type="text/javascript",e.src="https://api-maps.yandex.ru/2.1/?lang=ru_RU",e.onload=_,document.head.appendChild(e))}function _(){var e=document.getElementById("map-placeholder");e&&e.remove(),ymaps.ready(function(){var e=new ymaps.Map("map",{center:[47.231129,39.728721],zoom:13,controls:[]}),t=new ymaps.Placemark([47.231129,39.728721],{hintContent:"Ростов-на-Дону, ул. Красноармейская, д. 227",balloonContent:"Ростов-на-Дону, ул. Красноармейская, д. 227"});e.geoObjects.add(t),e.behaviors.disable(["scrollZoom"])})}y&&(y.addEventListener("mouseenter",f,{once:!0}),y.addEventListener("click",f,{once:!0}));let b;function D(e){e=e;var t,e=(e=document.querySelector(`.filter-card[data-filials="${e}"]`))?{lat:e.getAttribute("data-lat"),lng:e.getAttribute("data-lng")}:(console.error("Филиал с указанным id не найден"),null);e&&(t=e.lat,e=e.lng,b?b.geometry.setCoordinates([parseFloat(t),parseFloat(e)]):(b=new ymaps.Placemark([parseFloat(t),parseFloat(e)],{},{preset:"islands#icon",iconColor:"#0095b6"}),map.geoObjects.add(b)))}document.getElementById("map-filials")&&(document.querySelector('[src="https://api-maps.yandex.ru/2.1/?lang=ru_RU"]')||((v=document.createElement("script")).type="text/javascript",v.src="https://api-maps.yandex.ru/2.1/?lang=ru_RU",document.head.appendChild(v)),setTimeout(function(){ymaps.ready(function(){var e=document.querySelector("#map-filials"),t=document.querySelector(".filter-card"),n=t.getAttribute("data-lat"),t=t.getAttribute("data-lng");e&&(e=new ymaps.Map("map-filials",{center:[n,t],zoom:13}),b=new ymaps.Placemark([n,t],{hintContent:"Ростов-на-Дону, ул. Красноармейская, д. 227",balloonContent:"Ростов-на-Дону, ул. Красноармейская, д. 227"},{iconLayout:"default#image",iconImageHref:"assets/img/icons/map-pin.png",iconImageSize:[21,26],iconImageOffset:[-15,-31]}),e.geoObjects.add(b),e.behaviors.disable(["scrollZoom"]))})},500)),document.getElementById("select-filials")&&document.getElementById("select-filials").addEventListener("change",function(){D(this.value)});h=document.querySelector(".popup-cookie__btn"),h&&h.addEventListener("click",()=>{document.querySelector(".popup-cookie").style.display="none"}),m=document.querySelectorAll("input[type=search]");0<m.length&&m.forEach(a=>{let r=a.closest(".search-wrapper");if(r){let t=r.querySelector(".popup__search-result"),l=r.querySelector(".popup__search"),c=t.querySelector(".no-results-message");a.addEventListener("input",function(){let n=a.value.toUpperCase();var e=r.querySelectorAll(".search-list");let o=0;e.forEach(e=>{var t=e.getElementsByTagName("li");for(let e=0;e<t.length;e++)-1<t[e].querySelector(".search-name").innerHTML.toUpperCase().indexOf(n)?(t[e].classList.remove("none"),o++):t[e].classList.add("none")}),c.classList.toggle("none",0<o),""===a.value.trim()?(t.classList.add("none"),l.classList.remove("none")):(t.classList.remove("none"),l.classList.add("none"))}),document.addEventListener("click",e=>{r.contains(e.target)||t.classList.add("none")})}});document.querySelectorAll(".tab__btns-acc").forEach(t=>{t&&t.querySelectorAll(".tab__btn-acc").forEach(e=>{e&&e.addEventListener("click",()=>{t.classList.toggle("active")})})});var L=document.getElementsByClassName("accordion");for(let e=0;e<L.length;e++)L[e]&&L[e].addEventListener("click",function(){var e,t=this.querySelector(".accordion__content")||this.parentElement.querySelector(".accordion__content");t.classList.contains("accordion__content--active")?(t.classList.remove("accordion__content--active"),this.classList.remove("accordion--active"),t.style.maxHeight="0"):(t.classList.add("accordion__content--active"),this.classList.add("accordion--active"),e=t.scrollHeight,t.style.maxHeight=e+"px")});n=document.querySelector(".calculator-show");if(n){let t=document.querySelector(".calculator-content");console.log(n),console.log(t),n.addEventListener("click",function(){var e;t.classList.contains("active")?(t.classList.remove("active"),this.classList.remove("active"),t.style.maxHeight="0"):(t.classList.add("active"),this.classList.add("active"),e=t.scrollHeight,t.style.maxHeight=e+"px")})}var S=document.querySelectorAll(".tab__btn");let q=document.querySelectorAll(".tabcontent");for(let e=0;e<S.length;e++)S[e].style.order=2*e+1;for(let e=0;e<q.length;e++)q[e].style.order=2*e+2;function E(e,t,n){let o=Array.from(document.querySelectorAll(t)).map(e=>Array.from(e.querySelectorAll('input[type="checkbox"]:checked')).map(e=>e.id));document.querySelectorAll(e).forEach(function(e){let t=e.dataset.categories?e.dataset.categories.split(" "):[];var n=o.every(e=>0===e.length||e.some(e=>t.includes(e)));e.style.display=n?"":"none"});t=document.querySelectorAll(e+':not([style*="display: none"])').length,e=document.querySelector(n);e&&(e.textContent=t),B()}S.forEach(e=>{e&&e.addEventListener("click",function(e){var t,n,o,l;l=(t=this).closest(".tab"),t.classList.contains("tab__btn--active")||(n=t.dataset.id,n=l.querySelectorAll(`.tabcontent[data-id="${n}"]`),(o=l.querySelector(".tab__btn--active"))&&o.classList.remove("tab__btn--active"),l.querySelectorAll(".tabcontent--active").forEach(e=>{e.style.maxHeight="0px",e.classList.remove("tabcontent--active")}),t.classList.add("tab__btn--active"),n.forEach(e=>{e.classList.add("tabcontent--active");var t=e.scrollHeight;e.style.maxHeight=t+"px"})),w()})}),document.querySelectorAll('.sort__item input[type="checkbox"]').forEach(function(e){e.addEventListener("change",function(){E(".sort__card",".sort__block",".sort__quantity span")})}),E(".sort__card",".sort_block",".sort__quantity span"),document.querySelectorAll("[data-filter-block]").forEach(e=>{let t=e.querySelectorAll(".filter-select"),n=e.querySelectorAll(".filter-card"),o=e.querySelector(".quantity span");function l(){let e=0;n.forEach(n=>{let o=!0;t.forEach(e=>{var t=e.getAttribute("data-filter-type"),e=e.value,t=n.getAttribute("data-"+t);"all"!==e&&e!==t&&(o=!1)}),n.style.display=o?"":"none",o&&e++}),o&&(o.textContent=e)}t.forEach(e=>{e.addEventListener("change",l)}),l()});let k=document.getElementById("high-rating"),A=document.getElementById("low-rating"),F=document.querySelectorAll(".page-reviews__card");function x(){F.forEach(e=>{var t=e.querySelectorAll(".page-reviews__card_star-active").length;!(k.checked&&4<=t)&&!(A.checked&&t<=3)&&(k.checked||A.checked)?e.style.display="none":e.style.display=""}),w()}function w(){var e=document.querySelectorAll(".quantity-card"),n=document.querySelector(".quantity span");if(n){let t=0;e.forEach(e=>{null!==e.offsetParent&&t++}),n.textContent=t}}k&&k.addEventListener("change",x),A&&A.addEventListener("change",x),document.getElementById("reviews-new")&&document.getElementById("reviews-new").addEventListener("change",function(){var e=document.querySelectorAll(".page-reviews__card");let n=this.checked;e.forEach(e=>{var t=(e=>{var[e,t,n]=e.split(" "),t={"января":0,"февраля":1,"марта":2,"апреля":3,"мая":4,"июня":5,"июля":6,"августа":7,"сентября":8,"октября":9,"ноября":10,"декабря":11}[t.toLowerCase()];return new Date(n,t,parseInt(e))})(e.querySelector(".page-reviews__card_publication span").textContent.trim()),t=(new Date-t)/864e5;n&&30<t?e.style.display="none":e.style.display="block"}),w()}),setTimeout(w,100);y=document.getElementById("searchInput");y&&y.addEventListener("input",function(){let t=this.value.toLowerCase();document.querySelectorAll(".search-page-item").forEach(function(e){e.querySelector(".search-page-name").textContent.toLowerCase().includes(t)?e.style.display="":e.style.display="none"}),w(),B()}),document.querySelectorAll(".btn-more").forEach(n=>{if(n){let t=n.previousElementSibling;if(t.scrollHeight<=t.clientHeight)n.style.display="none";else{let e=n.innerHTML;n.addEventListener("click",function(){t.style.maxHeight;this.classList.toggle("active"),t.style.maxHeight?(t.style.maxHeight=null,this.textContent=e):(t.style.maxHeight=t.scrollHeight+"px",this.textContent="Свернуть")})}}}),document.querySelectorAll(".footer__nav_acc").forEach(e=>{e&&e.addEventListener("click",function(){e.nextElementSibling.classList.toggle("active"),this.classList.toggle("active")})}),document.querySelectorAll(".is-scroll-up").forEach(e=>{e&&e.addEventListener("click",function(){window.scrollTo({top:0,behavior:"smooth"})})});let C=new Set,H=new Set;function T(e,t){let n=document.getElementById(e);n&&(n.innerHTML='<option value="all" selected>Выбрать</option>',t.forEach(e=>{var t=document.createElement("option");t.value=e,t.textContent=e,n.appendChild(t)}))}document.querySelectorAll(".filter-review-card").forEach(e=>{var t=e.querySelector(".select_service span"),e=e.querySelector(".select_doctor span");t&&(t=t.textContent.trim(),C.add(t)),e&&(t=e.textContent.trim(),H.add(t))});let I=document.getElementById("reviews-service"),M=document.getElementById("reviews-doctor");function j(){let o=I.value,l=M.value;document.querySelectorAll(".filter-review-card").forEach(e=>{var t=e.querySelector(".select_service span"),n=e.querySelector(".select_doctor span");t&&n&&(t=t.textContent.trim(),t="all"===o||t===o,n=n.textContent.trim(),n="all"===l||n===l,e.style.display=t&&n?"block":"none",w())})}T("reviews-service",Array.from(C)),T("reviews-doctor",Array.from(H)),I&&I.addEventListener("change",j),M&&M.addEventListener("change",j);v=document.querySelector(".jobs-3-js");if(v){h=v.querySelectorAll(".jobs__item_name");let o=v.querySelector(".jobs__tab_btns"),l=v.querySelectorAll(".jobs__item");h.forEach((e,t)=>{let n=document.createElement("button");n.className="jobs__tab_btn",n.textContent=e.textContent,0===t&&n.classList.add("tab-active"),n&&n.addEventListener("click",()=>{document.querySelectorAll(".jobs__tab_btn").forEach(e=>e.classList.remove("tab-active")),n.classList.add("tab-active"),l.forEach(e=>e.style.display="none"),l.forEach(e=>{e.querySelector(".jobs__item_name").textContent===n.textContent&&(e.style.display="block")})}),o.appendChild(n)}),l&&(l.forEach(e=>e.style.display="none"),l[0])&&(l[0].style.display="block")}document.querySelectorAll(".calculator__slider").forEach(e=>{let t=e.querySelector(".calculator-range"),n=e.querySelector(".calculator-output");function o(){var e;n.innerHTML=t.value+" "+((e=t.value)%10==1&&e%100!=11?"год":[2,3,4].includes(e%10)&&![12,13,14].includes(e%100)?"года":"лет")}o(),t.oninput=o});m=document.querySelectorAll(".medicament__block");let R=document.querySelector(".medicament__letters");function B(){var e=document.querySelectorAll(".medicament__block");e&&e.forEach(e=>{var t=e.querySelector("ul"),t=Array.from(t.children).some(e=>"none"!==e.style.display);e.style.display=t?"":"none"})}m.forEach(t=>{var e=t.querySelector("p").textContent.trim(),n=document.createElement("button");n.textContent=e,n.classList.add("letter-button"),n.addEventListener("click",()=>{var e=document.getElementById("header").offsetHeight-document.querySelector(".header__plashka").offsetHeight+10,e=t.getBoundingClientRect().top+window.scrollY-e;window.scrollTo({top:e,behavior:"smooth"})}),R.appendChild(n)}),B()}),document.querySelector(".navigation"));if(articleNavigation){let a=document.querySelectorAll(".text-block h1, .text-block h2, .text-block h3, .text-block h4, .text-block h5");if(0<a.length){for(let c=0;c<a.length;c+=1){let e=a[c],t=e.textContent,n=document.querySelector(".navigation__list"),o=document.createElement("li"),l=document.createElement("a");"H1"==e.tagName&&o.classList.add("nav-title-h1"),o.classList.add("navigation__item"),"H2"==e.tagName?o.classList.add("nav-title-h2"):"H3"==e.tagName?o.classList.add("nav-title-h3"):"H4"==e.tagName?o.classList.add("nav-title-h4"):"H5"==e.tagName?o.classList.add("nav-title-h5"):"H6"==e.tagName&&o.classList.add("nav-title-h6"),l.classList.add("navigation__link"),e.setAttribute("id",""+c),l.setAttribute("href","$"+c),l.textContent=" "+t,o.append(l),n.append(o)}document.querySelectorAll('a[href^="$"').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();e=this.getAttribute("href").substring(1),e=document.getElementById(e).getBoundingClientRect().top;window.scrollBy({top:e-280,behavior:"smooth"})})})}else articleNavigation.querySelector(".navigation")&&articleNavigation.querySelector(".navigation").remove()}
//# sourceMappingURL=main.js.map
